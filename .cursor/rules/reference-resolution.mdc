---
description: Handles context-specific data linking and reference processing using the @ symbol system for screen, audio and input linking
globs: DidYouGet/DidYouGet/Models/InputTracking/*.swift,DidYouGet/DidYouGet/Models/PreferencesManager.swift
alwaysApply: false
---


# reference-resolution

The reference resolution system provides linkage between different recording components through an @ symbol reference mechanism.

## Core Reference Types (Importance: 95)

`@screen` - Links to active screen recording sessions
- Connects captured screen regions to recording metadata
- References display identifiers for multi-monitor setups 

`@audio` - Links audio device references
- Maps selected audio input devices to recording sessions
- Maintains synchronization timestamps with video streams

`@input` - Links input tracking references
- Binds mouse/keyboard event streams to recording context
- Maps input events to screen coordinates and window focus

## Reference Context Resolution (Importance: 85)

Input Event Binding:
```
@screen(main) -> Links to primary display context
@screen(secondary) -> Links to additional displays
@input.mouse -> Mouse event stream for active context
@input.keyboard -> Keyboard event stream for active context
```

Recording Device Resolution:
```
@audio(device:built-in) -> System audio device
@audio(device:external) -> External audio inputs
```

## State Management (Importance: 80)

- References maintain active/inactive states
- Context switching preserves reference integrity
- Reference garbage collection on context termination

$END$